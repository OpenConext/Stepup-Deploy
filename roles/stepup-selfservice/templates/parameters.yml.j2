parameters:
    trusted_proxies:   [ 127.0.0.1 ]

    mailer_transport:  smtp
    mailer_host:       127.0.0.1
    mailer_user:       ~
    mailer_password:   ~

    default_locale:    nl_NL
    locales:           [nl_NL, en_GB]
    secret:            {{ selfservice_secret | vault(vault_keydir) }}

    debug_toolbar:          true
    debug_redirects:        false
    use_assetic_controller: true

{# Note: Gateway API acces over HTTP #}
{# gateway vhost ip is set in /etc/hosts #}
    gateway_api_url: http://{{ gateway_vhost_name }}/
    gateway_api_username: ss
    gateway_api_password: {{ selfservice_api_password | vault(vault_keydir) }}

    middleware_credentials_username: ss
    middleware_credentials_password: {{ selfservice_api_password | vault(vault_keydir) }}

{# Note: Middleware API acces over HTTP #}
{# middleware vhost ip is set in /etc/hosts #}
    middleware_url_command_api: http://{{ middleware_vhost_name }}/command
    middleware_url_api: http://{{ middleware_vhost_name }}/

    sms_originator: {{ sms_originator }}
    sms_otp_expiry_interval: {{ sms_otp_expiry_interval }}
    sms_maximum_otp_requests: {{ sms_maximum_otp_requests }}

    saml_sp_publickey: {{ component_dir_name }}/app/config/sp.crt

    saml_sp_privatekey: {{ component_dir_name }}/app/config/sp.key

    saml_metadata_publickey: {{ component_dir_name }}/app/config/sp.crt

    saml_metadata_privatekey: {{ component_dir_name }}/app/config/sp.key

    # Connect to remote IdP through Stepup Gateway
    saml_remote_idp_entity_id: https://{{ gateway_vhost_name }}/authentication/metadata
    saml_remote_idp_sso_url: https://{{ gateway_vhost_name }}/authentication/single-sign-on
    saml_remote_idp_certificate: {{ gateway_saml_idp_publickey | depem }}

{#
    # Connect to remote IdP directly
    saml_remote_idp_entity_id: {{ saml_remote_idp_entity_id }}
    saml_remote_idp_sso_url: {{ saml_remote_idp_sso_url }}
    saml_remote_idp_certificate: {{ saml_remote_idp_certificate }}
#}

    asset_version: {{ stable_nonce }}

    stepup_loa_loa1: {{ stepup_uri_loa1 }}
    stepup_loa_loa2: {{ stepup_uri_loa2 }}
    stepup_loa_loa3: {{ stepup_uri_loa3 }}

    logout_redirect_url: {{ logout_redirect_url }}

    enabled_second_factors:
        - sms
        - yubikey
        - tiqr

    # TODO: Unused, remove requirement from component
    graylog_hostname: ""
